<?xml version="1.0" encoding="UTF-8"?>
<!--Arbortext, Inc., 1988-2011, v.4002-->
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN"
 "reference.dtd">
<reference id="reject_apigatewayelement" xml:lang="en-us">
<title><codeph>apim:reject</codeph><ph rev="rev760"/></title>
<shortdesc>Designates an error to and aborts the execution of current assembly rule.</shortdesc>
<refbody>
<section>
<title>Namespace declaration</title>
<sl>
<sli><codeph>xmlns:apim="http://www.ibm.com/apimanagement"</codeph></sli>
<sli><codeph>extension-element-prefixes="apim"</codeph></sli>
</sl>
</section>
<refsyn>
<title>Syntax</title>
<codeblock>&lt;apim:reject
  identifier="<varname>errorName</varname>"
  status-code="<varname>code</varname>"
  reason="<varname>reasonPhrase</varname>"&gt;
  <varname>text</varname>
&lt;/apim:reject&gt;</codeblock>
</refsyn>
<section>
<title>Attributes</title>
<dl>
<dlentry>
<dt><codeph>identifier="<varname>errorName</varname>"</codeph></dt>
<dd>The optional <codeph>xs:string</codeph> that specifies the error name. The default value is
<codeph>TransformError</codeph>.</dd>
</dlentry>
<dlentry>
<dt><codeph>status-code="<varname>code</varname>"</codeph></dt>
<dd>The optional <codeph>xs:integer</codeph> that specifies the HTTP status code. Enter a value in
the range 400 - 999. The default value is 500.</dd>
</dlentry>
<dlentry>
<dt><codeph>reason="<varname>reasonPhrase</varname>"</codeph></dt>
<dd>The optional <codeph>xs:string</codeph> that specifies the HTTP reason phrase.</dd>
</dlentry>
<dlentry>
<dt><varname>text</varname></dt>
<dd>The <codeph>xs:string</codeph> that specifies the custom error message for the returned
fault.</dd>
</dlentry>
</dl>
</section>
<section>
<title>Guidelines</title>
<p>The <codeph>apim:reject</codeph> extension element aborts the current assembly rule. The assembly
actions that follow the assembly XSLT action are not executed. The <ph
conref="apigw_conref.dita#common/apigw"/> returns a fault message as the API response to
the client.</p>
</section>
<example>
<title>Examples</title>
<ul>
<li>Call the <codeph>apim:reject</codeph> element to abort the current assembly rule with the status
code
401.<codeblock>&lt;xsl:template match="/">
    &lt;apim:reject identifier="CustomError" status-code="401" 
        reason="Unauthorized">the error message...&lt;/apim:reject>
&lt;/xsl:template></codeblock></li>
<li>The <ph conref="apigw_conref.dita#common/apigw"/> returns the following fault
message as the API response to the client in the preceding
example.<codeblock>HTTP/1.0 401 Unauthorized
Content-Type: application/json
Connection: close

{
  "name":"CustomError",
  "message":"the error message..."
}</codeblock></li>
</ul>
</example>
</refbody>
</reference>
