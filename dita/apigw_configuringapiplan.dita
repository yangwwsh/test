<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE task PUBLIC "-//OASIS//DTD DITA Task//EN" "task.dtd">
<task id="apigw_configuringapiplan" xml:lang="en-us">
<title>Creating an API plan<ph rev="rev760"/></title>
<shortdesc>An API is not exposed for access unless you add the API into a plan. The information
instructs how to configure an API plan to package a list of APIs to expose for access.</shortdesc>
<taskbody>
<context>
<p>To configure an API plan, provide the following settings:<ul>
<li>The rate limit schemes to enforce on all APIs that are packaged in the plan.</li>
<li>Optionally, the burst limit schemes to enforce on all APIs that are packaged in the plan. The
burst limit scheme helps prevent usage spikes that might damage infrastructure. The burst limit
takes higher priority than the rate limit, when a message arrives within an interval, the message is
first checked against the burst limit scheme.<ul>
<li>When the burst limit is exceeded, the message is rejected.</li>
<li>When the burst limit is not exceeded, the <ph><ph
conref="apigw_conref.dita#common/apigw"/> proceeds to check the message against the rate
limit scheme.</ph></li>
</ul></li>
<li>The APIs to package into the plan.</li>
<li>The operations to exclude. When an operation is excluded from the plan, API requests cannot
access the API operation through the plan.</li>
<li>The rate limit schemes that are specific to certain operations. When an operation-specific rate
limit scheme is defined, the operation-specific rate limit scheme is enforced instead of the rate
scheme that is defined for the plan.</li>
</ul></p>
</context>
<steps>
<step conref="apigw_conref.dita#commonsteps/search_api">
<cmd/>
</step>
<step>
<cmd>From the search results, click <uicontrol>API Plan</uicontrol>.</cmd>
</step>
<step conref="apigw_conref.dita#commonsteps/config_add">
<cmd/>
</step>
<step conref="apigw_conref.dita#commonsteps/config_basicproperties">
<cmd/>
</step>
<step>
<cmd>Specify the rate limit schemes to enforce on the plan. To add a rate limit scheme, do the
following steps:</cmd>
<substeps id="rate">
<substep>
<cmd>Click <uicontrol>Add</uicontrol>.</cmd>
</substep>
<substep>
<cmd>Specify the maximum rate to allow.</cmd>
</substep>
<substep importance="optional">
<cmd>Specify the time interval for the rate limit.</cmd>
</substep>
<substep importance="optional">
<cmd>Specify the time unit for the rate limit.</cmd>
</substep>
<substep importance="optional">
<cmd>Specify whether to enable hard limit.</cmd>
</substep>
<substep>
<cmd>Click <uicontrol>Done</uicontrol>.</cmd>
</substep>
</substeps>
</step>
<step importance="optional">
<cmd>Specify the burst limit schemes to enforce on the plan. To add a burst limit scheme, do the
following steps:</cmd>
<substeps id="burst">
<substep>
<cmd>Click <uicontrol>Add</uicontrol>.</cmd>
</substep>
<substep>
<cmd>Specify the maximum burst rate to allow.</cmd>
</substep>
<substep importance="optional">
<cmd>Specify the time interval for the burst limit.</cmd>
</substep>
<substep importance="optional">
<cmd>Specify the time unit for the burst limit.</cmd>
</substep>
<substep>
<cmd>Click <uicontrol>Done</uicontrol>.</cmd>
</substep>
</substeps>
</step>
<step>
<cmd>Specify a list of APIs to package into the plan.</cmd>
</step>
<step>
<cmd>Specify the operations to exclude from the plan.</cmd>
</step>
<step>
<cmd>Specify the operation rate limit configuration to override the rate limit scheme for certain
operations.</cmd>
</step>
<step conref="apigw_conref.dita#commonsteps/config_apply">
<cmd/>
</step>
<step conref="apigw_conref.dita#commonsteps/config_saveconfig">
<cmd/>
</step>
</steps>
</taskbody>
<related-links>
<link href="apigw_configuringapi.dita"/>
</related-links>
</task>
